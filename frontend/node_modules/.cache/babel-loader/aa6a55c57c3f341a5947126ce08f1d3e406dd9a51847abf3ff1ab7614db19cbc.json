{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\fashion-paris-ecommerce\\\\frontend\\\\src\\\\components\\\\common\\\\SearchBar.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchBar = () => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const handleInputChange = async e => {\n    const newQuery = e.target.value;\n    setQuery(newQuery);\n    if (newQuery.length > 2) {\n      // Lance la recherche après 3 caractères\n      setIsLoading(true);\n      try {\n        const response = await api.get(`/products/search?q=${newQuery}`);\n        setResults(response.data);\n      } catch (error) {\n        console.error(\"Erreur lors de la recherche:\", error);\n        setResults([]);\n      } finally {\n        setIsLoading(false);\n      }\n    } else {\n      setResults([]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: '300px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: query,\n      onChange: handleInputChange,\n      placeholder: \"Rechercher un produit...\",\n      style: {\n        width: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Recherche en cours...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }, this), results.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        position: 'absolute',\n        top: '100%',\n        left: 0,\n        right: 0,\n        backgroundColor: 'white',\n        border: '1px solid #ccc',\n        listStyle: 'none',\n        padding: '10px',\n        margin: 0,\n        zIndex: 1000\n      },\n      children: results.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/produit/${product.id}`,\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this)\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchBar, \"s4DM2rThVr+xc3muTIZvtLaK3Q4=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","Link","api","jsxDEV","_jsxDEV","SearchBar","_s","query","setQuery","results","setResults","isLoading","setIsLoading","handleInputChange","e","newQuery","target","value","length","response","get","data","error","console","style","position","width","children","type","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","top","left","right","backgroundColor","border","listStyle","padding","margin","zIndex","map","product","to","id","name","_c","$RefreshReg$"],"sources":["C:/wamp64/www/fashion-paris-ecommerce/frontend/src/components/common/SearchBar.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../utils/api';\r\n\r\nconst SearchBar = () => {\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleInputChange = async (e) => {\r\n    const newQuery = e.target.value;\r\n    setQuery(newQuery);\r\n\r\n    if (newQuery.length > 2) { // Lance la recherche après 3 caractères\r\n      setIsLoading(true);\r\n      try {\r\n        const response = await api.get(`/products/search?q=${newQuery}`);\r\n        setResults(response.data);\r\n      } catch (error) {\r\n        console.error(\"Erreur lors de la recherche:\", error);\r\n        setResults([]);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      setResults([]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', width: '300px' }}>\r\n      <input\r\n        type=\"text\"\r\n        value={query}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Rechercher un produit...\"\r\n        style={{ width: '100%' }}\r\n      />\r\n      {isLoading && <p>Recherche en cours...</p>}\r\n      \r\n      {results.length > 0 && (\r\n        <ul style={{\r\n          position: 'absolute',\r\n          top: '100%',\r\n          left: 0,\r\n          right: 0,\r\n          backgroundColor: 'white',\r\n          border: '1px solid #ccc',\r\n          listStyle: 'none',\r\n          padding: '10px',\r\n          margin: 0,\r\n          zIndex: 1000,\r\n        }}>\r\n          {results.map(product => (\r\n            <li key={product.id}>\r\n              <Link to={`/produit/${product.id}`}>{product.name}</Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,GAAG,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMa,iBAAiB,GAAG,MAAOC,CAAC,IAAK;IACrC,MAAMC,QAAQ,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK;IAC/BT,QAAQ,CAACO,QAAQ,CAAC;IAElB,IAAIA,QAAQ,CAACG,MAAM,GAAG,CAAC,EAAE;MAAE;MACzBN,YAAY,CAAC,IAAI,CAAC;MAClB,IAAI;QACF,MAAMO,QAAQ,GAAG,MAAMjB,GAAG,CAACkB,GAAG,CAAC,sBAAsBL,QAAQ,EAAE,CAAC;QAChEL,UAAU,CAACS,QAAQ,CAACE,IAAI,CAAC;MAC3B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACpDZ,UAAU,CAAC,EAAE,CAAC;MAChB,CAAC,SAAS;QACRE,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC,MAAM;MACLF,UAAU,CAAC,EAAE,CAAC;IAChB;EACF,CAAC;EAED,oBACEN,OAAA;IAAKoB,KAAK,EAAE;MAAEC,QAAQ,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAQ,CAAE;IAAAC,QAAA,gBACnDvB,OAAA;MACEwB,IAAI,EAAC,MAAM;MACXX,KAAK,EAAEV,KAAM;MACbsB,QAAQ,EAAEhB,iBAAkB;MAC5BiB,WAAW,EAAC,0BAA0B;MACtCN,KAAK,EAAE;QAAEE,KAAK,EAAE;MAAO;IAAE;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC,EACDvB,SAAS,iBAAIP,OAAA;MAAAuB,QAAA,EAAG;IAAqB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAEzCzB,OAAO,CAACS,MAAM,GAAG,CAAC,iBACjBd,OAAA;MAAIoB,KAAK,EAAE;QACTC,QAAQ,EAAE,UAAU;QACpBU,GAAG,EAAE,MAAM;QACXC,IAAI,EAAE,CAAC;QACPC,KAAK,EAAE,CAAC;QACRC,eAAe,EAAE,OAAO;QACxBC,MAAM,EAAE,gBAAgB;QACxBC,SAAS,EAAE,MAAM;QACjBC,OAAO,EAAE,MAAM;QACfC,MAAM,EAAE,CAAC;QACTC,MAAM,EAAE;MACV,CAAE;MAAAhB,QAAA,EACClB,OAAO,CAACmC,GAAG,CAACC,OAAO,iBAClBzC,OAAA;QAAAuB,QAAA,eACEvB,OAAA,CAACH,IAAI;UAAC6C,EAAE,EAAE,YAAYD,OAAO,CAACE,EAAE,EAAG;UAAApB,QAAA,EAAEkB,OAAO,CAACG;QAAI;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO;MAAC,GADlDW,OAAO,CAACE,EAAE;QAAAhB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEf,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CACL;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC5B,EAAA,CA1DID,SAAS;AAAA4C,EAAA,GAAT5C,SAAS;AA4Df,eAAeA,SAAS;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}